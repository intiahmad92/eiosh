(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5429],{85315:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/a/[id]",function(){return t(92769)}])},44292:function(e,s,t){"use strict";var a=t(85893),n=t(28276),l=t(67294),r=t(11163),o=t(41664),i=t.n(o),c=t(40827),d=t(48966),h=t(25043),p=t(72806),m=t(21059),u=t(5434),x=t(2329),g=t(73242),_=t.n(g);let j=e=>{let{data:s,assetPage:t}=e,{t:o}=(0,n.$G)("gallery"),[g,j]=(0,l.useState)({}),[f,w]=(0,l.useState)(null),b=(0,l.useRef)(null),{width:y}=(0,p.Z)(b),v=(0,m.Z)(),k=(0,r.useRouter)();(0,l.useEffect)(()=>{if(v&&v.render&&0===Object.keys(g).length){for(let e of s)if(e.id===v.render){w(e);break}}},[v]);let N=async e=>{let s=JSON.parse(e.currentTarget.dataset.info);w(s),Object.keys(g).includes(s.id)||await fetch("/api/galleryClick",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:s.id})}).then(e=>e.json()).then(e=>{console.log("Tracked click:",e)}),g[s.id]=!0,j(g),k.push({pathname:k.pathname,query:{...k.query,render:s.id}},void 0,{shallow:!0})};return(0,a.jsxs)("div",{className:_().wrapper,ref:b,children:[(0,a.jsxs)(c.Z,{breakpointCols:y<=590?1:Math.ceil(y/468),className:_().masonry,columnClassName:_().masonryColumn,children:[s.map((e,s)=>(0,a.jsx)("div",{className:_().thumbnail,"data-info":JSON.stringify(e),onClick:N,children:(0,a.jsx)(h.Z,{offset:500,children:(0,a.jsx)("img",{src:"https://cdn.polyhaven.com/gallery/".concat(e.file_name,"?width=").concat(460),alt:e.name})})},s)),!t&&(0,a.jsx)(i(),{href:"/gallery-submit",prefetch:!1,children:(0,a.jsxs)("div",{className:_().add,children:[(0,a.jsx)("strong",{children:"+"}),(0,a.jsx)("p",{children:o("submit.title")})]})})]}),f&&(0,a.jsxs)("div",{className:_().lightboxWrapper,onClick:e=>{"a"!==e.target.tagName.toLowerCase()&&(w(null),k.push({pathname:k.pathname,query:t?{id:k.query.id}:{}},void 0,{shallow:!0}))},children:[(0,a.jsxs)("div",{className:_().lightbox,children:[(0,a.jsxs)("div",{className:_().imageWrapper,children:[(0,a.jsx)(x.Z,{className:_().spinner}),(0,a.jsx)("img",{src:"https://cdn.polyhaven.com/gallery/".concat(f.file_name,"?width=").concat(y)})]}),(0,a.jsxs)("p",{children:[f.artwork_name&&(0,a.jsx)("em",{children:f.artwork_name}),o("by"),f.author_link&&(0,d.isURL)(f.author_link,{require_protocol:!0})?(0,a.jsx)("a",{target:"_blank",rel:"noopener",href:f.author_link,children:f.author}):(0,a.jsx)("span",{children:f.author}),o("using"),f.assets_used.slice(0,3).map((e,s)=>(0,a.jsx)(i(),{href:"/a/".concat(e),children:e},s)),f.assets_used.length>3?(0,a.jsx)("span",{title:f.assets_used.join(", "),children:"..."}):null]})]}),(0,a.jsx)(u.FU5,{})]})]})};j.defaultProps={assetPage:!1},s.Z=j},66159:function(e,s,t){"use strict";var a=t(85893),n=t(18087),l=t(94278),r=t.n(l);s.Z=e=>{let{children:s}=e;return(0,a.jsxs)("div",{className:r().page,children:[(0,a.jsx)("div",{className:r().pageContentCentered,children:s}),(0,a.jsx)(n.Z,{})]})}},12881:function(e,s,t){"use strict";var a=t(85893),n=t(9253),l=t(46888),r=t(14888),o=t(86108),i=t(30527);let c=e=>{let{slug:s,dateFrom:t,dateTo:c}=e,{data:d,error:h}=(0,i.Z)("/stats/downloads?type=ASSET&slug=".concat(s,"&date_from=").concat(t,"&date_to=").concat(c),{revalidateOnFocus:!1});return h||!d?null:(0,a.jsx)(n.h,{width:"100%",height:"100%",children:(0,a.jsxs)(l.T,{data:d,margin:{top:0,right:0,left:0,bottom:0},children:[(0,a.jsx)(r.u,{label:"day",position:{x:0,y:25},contentStyle:{backgroundColor:"rgba(30,30,30,0.3)",padding:"0.5em"},itemStyle:{padding:0,margin:"-0.5em",fontSize:"0.8em"},labelStyle:{textAlign:"center",marginTop:"-0.5em"},labelFormatter:e=>d[e].day,formatter:(e,s)=>[e,"Unique Downloads"]}),(0,a.jsx)(o.u,{type:"monotone",dataKey:"unique",stroke:"rgb(190, 111, 255)",fill:"rgba(190, 111, 255,0.5)"})]})})};c.defaultProps={dateTo:new Date().toISOString().split("T")[0]},s.Z=c},28826:function(e,s,t){"use strict";var a=t(85893),n=t(66906),l=t.n(n);s.Z=()=>(0,a.jsx)("div",{className:l().wrapper,children:(0,a.jsx)("div",{className:l().loader})})},21059:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});var a=t(11163);function n(){let e=(0,a.useRouter)(),s=/\[.+\]/.test(e.route)||/\?./.test(e.asPath),t=!s||Object.keys(e.query).length>0;return t?e.query:null}},92769:function(e,s,t){"use strict";t.r(s),t.d(s,{__N_SSG:function(){return eJ},default:function(){return eY}});var a=t(85893),n=t(48155),l=t(20199),r=t(28276),o=t(67294),i=t(73606),c=t(5152),d=t.n(c),h=t(86243),p=t(22316),m=t(72806),u=t(92606),x=t(92700),g=t(19522),_=t(74472),j=t(5434),f=t(12881),w=t(41664),b=t.n(w),y=t(65062),v=t(30527),k=t(71993),N=t(35025),S=t.n(N);let C=d()(()=>Promise.resolve().then(t.bind(t,8086)),{loadableGenerated:{webpack:()=>[8086]},ssr:!1}),P=e=>{let{id:s,size:t,credit:n}=e,{t:l}=(0,r.$G)("asset"),o=s,i="/",c="",d="",{data:h,error:p}=(0,v.Z)("/author/".concat(s),{revalidateOnFocus:!1});if(p?i=null:h&&(o=h.name,i=h.link,c=h.email,d=h.donate),d&&d.startsWith("paypal:")){var m,u;m=d.slice(7),u="Poly Haven: "+o,d="https://www.paypal.com/cgi-bin/webscr?cmd=_donations&business=".concat(m,"&item_name=").concat(u)}let x="/all?a=".concat(s),g="";return n&&((g=l("credits.".concat(n.trim().toLowerCase()))).startsWith("credits.")&&(g=g.substring(8)),g=(0,k.Qs)(g)),(0,a.jsxs)("div",{className:S().author,children:[(0,a.jsxs)(b(),{href:x,prefetch:!1,className:S().avatar,children:[(0,a.jsx)(C,{id:s,size:50}),h&&h.regular_donor?(0,a.jsx)("div",{className:S().regularDonor,"data-tip":"Regular asset donor",children:(0,a.jsx)(y.Z,{color:"#F96854"})}):null]}),(0,a.jsxs)("div",{className:S().name,children:[(0,a.jsx)(b(),{href:x,prefetch:!1,children:(0,a.jsx)("strong",{children:s})}),n?(0,a.jsx)("span",{className:S().credit,children:g}):"",(0,a.jsxs)("div",{className:S().links,children:[i?(0,a.jsx)("a",{href:i,target:"_blank",rel:"noopener",children:(0,a.jsx)(j.$l_,{})}):"",c?(0,a.jsx)("a",{href:"mailto:".concat(c),target:"_blank",rel:"noopener",children:(0,a.jsx)(j.h6V,{})}):"",d?(0,a.jsx)("a",{href:d,target:"_blank",rel:"noopener",children:(0,a.jsx)(y.Z,{})}):""]})]})]})};P.defaultProps={size:"small",credit:""};var M=t(38099),O=t(58288),Z=t(14443),D=t(15980),T=t.n(D),A=e=>{let{slug:s,data:t,files:n,assetType:l,setter:r,showWebGL:o,showTilePreview:i,active:c}=e,d={Preview:"https://cdn.polyhaven.com/asset_img/primary/".concat(s,".png")};2!==l&&(d.Thumb="https://cdn.polyhaven.com/asset_img/thumbs/".concat(s,".png"));let h={};if(t)for(let e of Object.keys(t))d[e]="https://cdn.polyhaven.com/asset_img/renders/".concat(s,"/").concat(e),"object"==typeof t[e]&&(h[e]=t[e]);let p=(0,M.nl)(Object.keys(d));p=(0,M.nD)(p,{Thumb:1,Preview:2,"clay.png":3,cam_:4,"ANYTHING ELSE":5,orth_:6},["cam_","orth_"]);let m={};for(let e of(0,M.nl)(Object.keys(n))){if(e.endsWith("nor_dx"))continue;let s=null;try{s=n[e]["1k"].jpg.url}catch(e){s=null}s&&(m[e]=s)}let u=e=>{r(e.currentTarget.dataset.src)},x=e=>{i(e.currentTarget.dataset.src)};return(0,a.jsxs)("div",{className:T().imageRow,children:[(0,a.jsx)(O.Z,{id:"3495807518",x:728,y:90}),(0,a.jsx)("div",{className:"".concat(T().iconBtn," ").concat("webGL"===c?T().activeImage:""),children:(0,a.jsx)(Z.Z,{icon:(0,a.jsx)(j.gb5,{}),onClick:o})}),p.map((e,s)=>(0,a.jsxs)("div",{"data-src":d[e],title:e,onClick:u,className:"".concat(T().image," ").concat(c===d[e]?T().activeImage:""),children:[(0,a.jsx)("img",{src:d[e]+"?height=110"}),Object.keys(h).includes(e)?(0,a.jsxs)("div",{className:T().credit,children:[(0,a.jsxs)("p",{children:[h[e].title," by"," ",h[e].url?(0,a.jsx)("a",{href:h[e].url,rel:"noopener",children:h[e].author}):h[e].author]}),h[e].sources?(0,a.jsxs)("div",{className:T().sources,children:[h[e].sources.length>1?"Sources:":"Source:",(0,a.jsx)("ul",{children:h[e].sources.map((e,s)=>(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:e,rel:"noopener",children:s+1})},s))})]}):null]}):null]},s)),0!==l&&"decorative_book_set_01"!==s?(0,M.qd)(Object.keys(m),2).map((e,t)=>(0,a.jsx)("div",{className:T().texMaps,children:e.map((e,t)=>(0,a.jsx)("div",{"data-src":m[e],title:e,onClick:x,className:"".concat(T().image," ").concat(c===m[e]?T().activeImage:""),children:(0,a.jsx)("img",{src:"https://cdn.polyhaven.com/asset_img/map_previews/".concat(s,"/").concat((0,k.sp)(m[e]),"?height=50&width=50")})},t))},t)):null]})},I=t(11163),L=t(47941),z=t(57632),R=t(66653),E=t(67571),B=t(40827),G=t(30271),F=t.n(G),W=e=>{let{assetID:s,files:t,trackDownload:n,setPreview:l}=e,r={jpg_pretty:{name:"Pretty JPG",tip:"With some visual improvements (as shown)."},jpg_plain:{name:"Plain JPG",tip:"No adjustments, converted straight from RAW."},raw:{name:"Original RAW",tip:"Straight from the camera."}},o=e=>{l(e.currentTarget.dataset.src)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("h3",{children:["Backplates:"," ",(0,a.jsx)(j.r$n,{"data-tip":"The images below are separate photos that you can use as high resolution background images in your render.<br />Depending on your render resolution and camera settings, sometimes an HDRI (even a very large one) might not have enough pixels to still appear sharp in the background of your render. In these cases you can use one of these backplates in the background instead, and use a lower resolution HDRI just for lighting and reflections."})]}),(0,a.jsx)(B.Z,{breakpointCols:2,className:F().masonry,columnClassName:F().masonryColumn,children:Object.keys(t).sort().map((e,l)=>{let i=t[e];if(Object.keys(i).length===Object.keys(r).length)return(0,a.jsxs)("div",{className:F().thumbnail,children:[(0,a.jsx)("img",{src:"https://cdn.polyhaven.com/asset_img/backplates/".concat(s,"/").concat(e,".jpg?width=144"),"data-src":"https://cdn.polyhaven.com/asset_img/backplates/".concat(s,"/").concat(e,".jpg"),onClick:o}),(0,a.jsxs)("div",{className:F().buttonWrapper,children:[(0,a.jsx)("div",{className:F().button,"data-src":"https://cdn.polyhaven.com/asset_img/backplates/".concat(s,"/").concat(e,".jpg"),onClick:o,children:(0,a.jsx)(j.t2l,{})}),(0,a.jsxs)("div",{className:F().button,children:[(0,a.jsx)(j.tEr,{}),(0,a.jsx)("div",{className:F().downloadMenu,children:Object.keys(r).map((e,s)=>(0,a.jsx)("a",{className:F().download,href:i[e].url,target:"_blank",rel:"noopener",onClick:n,"data-res":"backplate","data-format":e,"data-tip":r[e].tip+"<br/>(".concat((0,L.G)(i[e].size),")"),children:r[e].name},s))})]})]})]},l)})})]})},V=t(84436),H=e=>{let{name:s,res:t,fmt:n,type:l,data:r,filesize:i,selectMap:c}=e,[d,h]=(0,o.useState)(!1),p="assetPref_sel_".concat(l,"_").concat(s,"_").concat(n),m=["blend_blend","gltf_gltf","arm_jpg","Diffuse_jpg","Displacement_png","Rough_exr","Metal_exr","nor_gl_exr","nor_dx_exr","AO_jpg","Bump_exr","Alpha_png","Emission_png","Mask_png"];return m.forEach((e,s)=>m[s]="assetPref_sel_".concat(l,"_").concat(e)),(0,o.useEffect)(()=>{let e=JSON.parse(localStorage.getItem(p)),t=null!==e?e:m.includes(p);h(t),c({map:s,fmt:n,md5:r.md5},t)},[]),(0,a.jsxs)("span",{className:"".concat(F().format," ").concat(d?F().checked:""),onClick:e=>{let t=!d;h(t),c({map:s,fmt:n,md5:r.md5},t),localStorage.setItem(p,JSON.stringify(t))},"data-key":n,"data-tip":"".concat(t," ").concat(n,": ").concat(i),children:[d?(0,a.jsx)(j.y5A,{}):(0,a.jsx)(j.hrt,{}),n]})},q=e=>{let{name:s,res:t,fmt:n,type:l,data:r,trackDownload:o,selectMap:i}=e,c=(0,k.Qs)(s.replace(/_/g," "));return(("nor_gl"===s||"nor_dx"===s)&&(c="zip"!==n?"Normal":"Normal (".concat(s.substring(s.length-2).toUpperCase(),")")),"AO"===s&&(c="AO"),"rough_ao"===s&&(c="Rough AO"),"arm"===s&&(c="AO/Rough/Metal"),"rma"===s&&(c="Rough/Metal/AO"),"zip"!==n)?(0,a.jsxs)("div",{className:F().optionRow,children:[(0,a.jsx)("p",{children:c}),Object.keys(r).sort().map((e,n)=>(0,a.jsxs)("a",{href:r[e].url,className:F().format,target:"_blank",rel:"noopener","data-res":t,"data-format":"".concat(s,":").concat(e),onClick:o,"data-tip":"".concat(t," ").concat(e,": ").concat((0,L.G)(r[e].size)),children:[(0,a.jsx)(j.tEr,{}),e]},n)),(0,a.jsx)(V.Z,{})]}):(0,a.jsxs)("div",{className:F().optionRow,children:[(0,a.jsx)("p",{children:c}),Object.keys(r).sort().map((e,n)=>(0,a.jsx)(H,{name:s,res:t,fmt:e,type:l,data:r[e],filesize:(0,L.G)(r[e].size).toString(),selectMap:i},n)),(0,a.jsx)(V.Z,{})]})},U=t(41644),X=()=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 789.6 509.52",children:[(0,a.jsx)("defs",{children:(0,a.jsx)("style",{children:".a{fill:#000;}.b{fill:#735244;}.c{fill:#c29682;}.d{fill:#627a9d;}.e{fill:#576c43;}.f{fill:#8580b1;}.g{fill:#67bdaa;}.h{fill:#d67e2c;}.i{fill:#505ba6;}.j{fill:#c15a63;}.k{fill:#5e3c6c;}.l{fill:#9dbc40;}.m{fill:#e0a32e;}.n{fill:#383d96;}.o{fill:#469449;}.p{fill:#ae363c;}.q{fill:#e7c71f;}.r{fill:#bb5695;}.s{fill:#0885a1;}.t{fill:#f3f3f2;}.u{fill:#c8c8c8;}.v{fill:#787878;}.w{fill:#7a7a79;}.x{fill:#555;}.y{fill:#343434;}"})}),(0,a.jsx)("title",{children:"Artboard 1"}),(0,a.jsx)("rect",{x:"5.66",y:"5",width:"778.94",height:"499.52",rx:"32.69"}),(0,a.jsx)("path",{className:"a",d:"M751.91,10A27.72,27.72,0,0,1,779.6,37.69V471.83a27.72,27.72,0,0,1-27.69,27.69H38.35a27.72,27.72,0,0,1-27.69-27.69V37.69A27.72,27.72,0,0,1,38.35,10H751.91m0-10H38.35A37.7,37.7,0,0,0,.66,37.69V471.83a37.7,37.7,0,0,0,37.69,37.69H751.91a37.7,37.7,0,0,0,37.69-37.69V37.69A37.7,37.7,0,0,0,751.91,0Z"}),(0,a.jsx)("rect",{className:"b",x:"40.68",y:"36.6",width:"107.28",height:"101.28"}),(0,a.jsx)("rect",{className:"c",x:"160.68",y:"36.6",width:"107.28",height:"101.28"}),(0,a.jsx)("rect",{className:"d",x:"280.68",y:"36.6",width:"107.28",height:"101.28"}),(0,a.jsx)("rect",{className:"e",x:"400.68",y:"36.6",width:"107.28",height:"101.28"}),(0,a.jsx)("rect",{className:"f",x:"520.68",y:"36.6",width:"107.28",height:"101.28"}),(0,a.jsx)("rect",{className:"g",x:"640.68",y:"36.6",width:"107.28",height:"101.28"}),(0,a.jsx)("rect",{className:"h",x:"40.68",y:"147.96",width:"107.28",height:"101.28"}),(0,a.jsx)("rect",{className:"i",x:"160.68",y:"147.96",width:"107.28",height:"101.28"}),(0,a.jsx)("rect",{className:"j",x:"280.68",y:"147.96",width:"107.28",height:"101.28"}),(0,a.jsx)("rect",{className:"k",x:"400.68",y:"147.96",width:"107.28",height:"101.28"}),(0,a.jsx)("rect",{className:"l",x:"520.68",y:"147.96",width:"107.28",height:"101.28"}),(0,a.jsx)("rect",{className:"m",x:"640.68",y:"147.96",width:"107.28",height:"101.28"}),(0,a.jsx)("rect",{className:"n",x:"40.68",y:"259.32",width:"107.28",height:"101.16"}),(0,a.jsx)("rect",{className:"o",x:"160.68",y:"259.32",width:"107.28",height:"101.16"}),(0,a.jsx)("rect",{className:"p",x:"280.68",y:"259.32",width:"107.28",height:"101.16"}),(0,a.jsx)("rect",{className:"q",x:"400.68",y:"259.32",width:"107.28",height:"101.16"}),(0,a.jsx)("rect",{className:"r",x:"520.68",y:"259.32",width:"107.28",height:"101.16"}),(0,a.jsx)("rect",{className:"s",x:"640.68",y:"259.32",width:"107.28",height:"101.16"}),(0,a.jsx)("rect",{className:"t",x:"40.68",y:"370.68",width:"107.28",height:"101.16"}),(0,a.jsx)("rect",{className:"u",x:"160.68",y:"370.68",width:"107.28",height:"101.16"}),(0,a.jsx)("rect",{className:"v",x:"280.68",y:"370.68",width:"107.28",height:"101.16"}),(0,a.jsx)("rect",{className:"w",x:"400.68",y:"370.68",width:"107.28",height:"101.16"}),(0,a.jsx)("rect",{className:"x",x:"520.68",y:"370.68",width:"107.28",height:"101.16"}),(0,a.jsx)("rect",{className:"y",x:"640.68",y:"370.68",width:"107.28",height:"101.16"})]}),J=t(92067),Y=JSON.parse('["blend","fbx","gltf","usd"]'),K=e=>{var s;let{open:t,assetID:n,tempUUID:l,files:i,res:c,fmt:d,selectMap:h,type:p,setPreview:m}=e,{t:u}=(0,r.$G)("asset"),[x,g]=(0,o.useState)("gl");(0,o.useEffect)(()=>{g(localStorage.getItem("assetPref_normalType")||"gl")},[]);let _=async e=>{let s={uuid:localStorage.getItem("uuid")||l,asset_id:n,res:e.currentTarget.dataset.res,format:e.currentTarget.dataset.format};await fetch("/api/dlTrack",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then(e=>e.json()).then(e=>{console.log("Tracked download:",s)})};return(0,a.jsxs)("div",{className:F().wrapper,children:[(0,a.jsxs)("div",{id:"download_options",className:"".concat(F().optionsWrapper," ").concat(t?null:F().optionsHidden),children:["zip"===d?(0,a.jsx)("div",{className:F().optionsHeader,children:u("zip-choose")}):null,0===p?null:(s=i,s=(0,M.nD)((0,M.nl)(Object.keys(s)),{blend:1,gltf:2,fbx:3,usd:4,"ANYTHING ELSE":10})).map((e,s)=>Y.includes(e)&&"zip"!==d?null:("nor_dx"!==e||"dx"===x||"zip"===d)&&("nor_gl"!==e||"gl"===x||"zip"===d)?(0,a.jsx)(q,{name:e,res:c,fmt:d,type:p,data:i[e][c],trackDownload:_,selectMap:h},s):null),0===p||"zip"===d?null:(0,a.jsxs)("div",{className:F().optionRow,children:[(0,a.jsx)("p",{style:{textAlign:"right"},children:u("nor-standard")}),(0,a.jsx)("div",{"data-tip":"OpenGL: Blender / Maya / Unity.<br />DirectX: Unreal / 3ds Max.",children:(0,a.jsx)(U.Z,{on:"gl"===x,onClick:()=>{let e="gl"===x?"dx":"gl";g(e),localStorage.setItem("assetPref_normalType",e)},labelOn:"GL",labelOff:"DX"})})]}),0===p&&i.tonemapped?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"".concat(F().optionRow," ").concat(F().wideOptionRow),"data-tip":u("formats.tm"),children:(0,a.jsxs)("a",{href:i.tonemapped.url,className:F().format,target:"_blank",rel:"noopener","data-res":"tm",onClick:_,children:["8K Tonemapped JPG • ",(0,L.G)(i.tonemapped.size).toString()]})})}):null,(0,a.jsx)("div",{className:"".concat(F().optionRow," ").concat(F().wideOptionRow),"data-tip":u("formats.thumb-d"),children:(0,a.jsxs)("a",{href:"https://cdn.polyhaven.com/asset_img/thumbs/".concat(n,".png?format=png"),className:F().format,target:"_blank",rel:"noopener","data-res":"thumb",onClick:_,children:[(0,a.jsx)(j.e0s,{}),u("formats.thumb")]})}),0===p&&i.colorchart?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"".concat(F().optionRow," ").concat(F().wideOptionRow),children:(0,a.jsxs)("a",{href:i.colorchart.url,className:F().format,target:"_blank",rel:"noopener","data-res":"cc",onClick:_,children:[(0,a.jsx)(X,{}),"Color Chart • ",(0,L.G)(i.colorchart.size).toString()]})})}):null,(0,a.jsx)("div",{className:"".concat(F().optionRow," ").concat(F().wideOptionRow),"data-tip":u("cloud-sync-d"),children:(0,a.jsxs)("a",{href:"https://www.patreon.com/polyhaven/overview",className:F().format,target:"_blank",children:[(0,a.jsx)(J.Z,{color:"#f96753"}),u("cloud-sync")," ",(0,a.jsx)(R.lzP,{style:{marginLeft:"0.5em"}})]})}),0===p&&i.backplates?(0,a.jsx)(W,{assetID:n,files:i.backplates,trackDownload:_,setPreview:m}):null]}),(0,a.jsx)(V.Z,{})]})},$=t(28826),Q=t(3181);let ee=e=>{let{color:s}=e;return(0,a.jsxs)("svg",{version:"1.1",baseProfile:"tiny",id:"glTF",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"1.5em",height:"1em",viewBox:"0 0 1000 500",children:[(0,a.jsxs)("g",{children:[(0,a.jsxs)("g",{children:[(0,a.jsx)("path",{fill:s,d:"M419.67,403.73c14.76-16.55,22.56-40.74,22.56-73.32V148.37h-31.17v28.48h-0.38    c-5.91-11.03-14.11-19.3-24.63-24.82c-10.52-5.51-22.07-8.27-34.64-8.27c-17.19,0-31.69,3.27-43.49,9.81    c-11.8,6.54-21.3,14.95-28.48,25.21c-7.19,10.26-12.32,21.55-15.4,33.87c-3.08,12.32-4.62,24.38-4.62,36.18    c0,13.6,1.86,26.5,5.58,38.68c3.72,12.19,9.3,22.9,16.74,32.14c7.44,9.24,16.68,16.55,27.71,21.94s23.99,8.08,38.88,8.08    c6.16,0,12.38-0.77,18.67-2.31c6.29-1.54,12.19-3.78,17.71-6.74c5.51-2.95,10.45-6.67,14.82-11.16    c4.36-4.49,7.95-9.81,10.78-15.97h0.76v13.08c0,11.29-1.09,21.55-3.27,30.79c-2.18,9.24-5.71,17.13-10.58,23.67    c-4.88,6.54-11.04,11.67-18.47,15.4c-7.44,3.72-16.55,5.58-27.32,5.58c-5.39,0-11.04-0.58-16.93-1.73    c-2.13-0.42-4.2-0.93-6.21-1.53c-2.19-0.77-4.36-1.56-6.51-2.36c-0.2-0.08-0.4-0.17-0.6-0.26v0.04    C236.63,364.58,181,310.91,181,250c0-97.15,141.52-175.9,316.1-175.9c97.25,0,184.45,22.15,242.44,60.59    C676.24,70.28,562.76,25.02,433,25C234.28,24.96,73.17,125.67,73.15,249.94C73.14,334.76,148.2,408.63,259.05,447    C347.96,450.04,393.09,433.54,419.67,403.73z M406.25,271.53c-2.18,9.24-5.58,17.51-10.2,24.82c-4.62,7.31-10.71,13.22-18.28,17.7    c-7.57,4.49-16.74,6.74-27.52,6.74c-10.78,0-19.76-2.24-26.94-6.74c-7.19-4.48-12.96-10.39-17.32-17.7    c-4.37-7.31-7.44-15.45-9.24-24.44c-1.8-8.98-2.69-17.96-2.69-26.94c0-9.49,1.09-18.6,3.27-27.33    c2.18-8.72,5.64-16.42,10.39-23.09c4.74-6.67,10.84-11.99,18.28-15.97c7.44-3.98,16.42-5.97,26.94-5.97    c10.26,0,18.98,2.06,26.17,6.16c7.18,4.11,13.02,9.56,17.51,16.36c4.49,6.8,7.76,14.43,9.81,22.9c2.05,8.47,3.08,17.07,3.08,25.79    C409.52,253.05,408.43,262.29,406.25,271.53z"}),(0,a.jsx)("path",{fill:s,d:"M434.85,422.49c-18.85,17.11-52.53,36.65-98.4,44.32c30.71,5.34,63.07,8.19,96.49,8.2    c129.24,0.03,242.42-45.09,305.88-109.05c-57.98,38.21-144.83,59.95-241.73,59.95C474.08,425.9,456.47,425.09,434.85,422.49z"})]}),(0,a.jsxs)("g",{children:[(0,a.jsx)("g",{children:(0,a.jsx)("path",{fill:s,d:"M633.84,347.91h-46.96V189.7h-58.92v-40.23h164.81v40.23h-58.92V347.91L633.84,347.91z"})}),(0,a.jsx)("g",{children:(0,a.jsx)("path",{fill:s,d:"M764.17,347.91h-46.97V149.47h144.99v40.23h-98.02v37.13h85.8v40.23h-85.8V347.91L764.17,347.91z"})})]}),(0,a.jsx)("path",{fill:s,d:"M469.55,100.03h32.71v247.31h-32.71V100.03z"})]}),(0,a.jsxs)("g",{id:"TM_2_",children:[(0,a.jsx)("path",{fill:s,d:"M902.78,155.29h-7.35v19.11h-6.42v-19.11h-7.35v-5.52h21.11L902.78,155.29L902.78,155.29z"}),(0,a.jsx)("path",{fill:s,d:"M905.65,149.77h9.45l4.24,16.42h0.07l4.24-16.42h9.45v24.63h-6.04v-18.7H927l-5.17,18.7h-4.9l-5.18-18.7   h-0.07v18.7h-6.04V149.77L905.65,149.77z"})]})]})};ee.defaultProps={color:"currentColor"};let es=e=>{let{color:s}=e;return(0,a.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M6.94031 11.3582V7.47764V3.65674L0 1.26868V8.9851L6.94031 11.3582ZM1.26866 8.01495V3.17913L5.61195 4.65674V9.49257L1.26866 8.01495Z",fill:s||"#208ECD"}),(0,a.jsx)("path",{d:"M1.77612 7.59703L5.08956 8.73136V5.07464L1.77612 3.94031V7.59703Z",fill:s||"#7DD1F6"}),(0,a.jsx)("path",{d:"M8.92534 5.59702L9.99997 5.97016V1.35821L6.04474 0V1.16418L8.92534 2.16418V5.59702Z",fill:s||"#7DD1F6"}),(0,a.jsx)("path",{d:"M2.98511 0.597015V1.7612L7.37317 3.28359V8.25374L8.4478 8.61195V2.47761L2.98511 0.597015Z",fill:s||"#35C3F1"})]})};es.defaultProps={color:"currentColor"};let et=e=>{let{color:s,text:t}=e;return(0,a.jsxs)("div",{style:{lineHeight:0,position:"relative"},children:[(0,a.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 12 12",children:(0,a.jsx)("path",{fill:s,d:"M10.5,3.375l0,7.125c0,0.413 -0.337,0.75 -0.75,0.75l-7.5,0c-0.413,0 -0.75,-0.337 -0.75,-0.75l0,-9c0,-0.413 0.337,-0.75 0.75,-0.75l5.625,0l2.625,2.625Zm-0.75,0.375l-2.25,-2.25l-5.25,0l0,9l7.5,0l0,-6.75Z"})}),(0,a.jsx)("div",{style:{position:"absolute",top:"50%",width:"1.4rem",textAlign:"center",fontSize:"0.65em"},children:t})]})};et.defaultProps={color:"currentColor",text:""};var ea=t(4452),en=t.n(ea),el=e=>{let{assetID:s,data:t,files:n,setPreview:l,patron:i}=e,{t:c}=(0,r.$G)("asset"),d=(0,I.useRouter)(),[h,p]=(0,o.useState)(!1),[m,u]=(0,o.useState)(!1),[x,g]=(0,o.useReducer)(function(e,s){let t=s.key;if(!s.add)return{files:e.files.filter(e=>e.md5!==t.md5)};for(let s of e.files)if(t.md5===s.md5)return{files:e.files};return{files:[...e.files,t]}},{files:[]}),[_,f]=(0,o.useState)("4k"),[w,y]=(0,o.useState)("exr"),[v,N]=(0,o.useState)((0,z.Z)()),S=0===t.type;if((0,o.useEffect)(()=>{f(localStorage.getItem("assetPref_".concat(t.type,"_resolution"))||"4k"),y(localStorage.getItem("assetPref_".concat(t.type,"_format"))||"exr")},[_,w]),!n)return(0,a.jsx)("div",{className:en().downloadBtnWrapper,children:(0,a.jsx)("div",{className:en().downloadBtn,children:(0,a.jsxs)("span",{className:en().error,children:["No files?",(0,a.jsx)("br",{}),(0,a.jsx)("em",{children:"Try refresh, otherwise please report this to us."})]})})});if(1e3*t.date_published>Date.now()&&(!i.rewards||!i.rewards.includes("Early Access")))return(0,a.jsx)("div",{className:en().downloadBtnWrapper,children:(0,a.jsx)("div",{className:en().downloadBtn,children:(0,a.jsxs)(b(),{href:"/account?returnTo=".concat(d.asPath),className:en().error,children:["Coming Soon!",(0,a.jsx)("br",{}),(0,a.jsx)("em",{children:"$3+ Patrons log in to download early"})]})})});let C="UNKNOWN";for(let e of["hdri","blend","Diffuse","nor_gl","Rough","Displacement"])if(Object.keys(n).includes(e)){C=e;break}if("UNKNOWN"===C)return(0,a.jsx)("div",{className:en().downloadBtnWrapper,children:(0,a.jsx)("div",{className:en().downloadBtn,children:"baseKey unknown!"})});let P=(0,M.Rw)(Object.keys(n[C])),O={};for(let e of P)O[e]={label:e.toUpperCase()};let Z=P.includes(_)?_:P.slice(-1)[0],D=S?{hdr:{label:"HDR",tooltip:"Radiance RGBE (.hdr)<br/>".concat(c("formats.hdr"))},exr:{label:"EXR",tooltip:"Open EXR (.exr)<br/>".concat(c("formats.exr"))}}:{blend:{label:"Blend",tooltip:"Blender<br/>".concat(c("formats.incl-tex")),icon:(0,a.jsx)(Q.Z,{})},gltf:{label:"glTF",tooltip:"glTF 2.0, ".concat(c("formats.some-software"),"<br/>").concat(c("formats.incl-tex")),icon:(0,a.jsx)(ee,{})},usd:{label:"USD",tooltip:"Universal Scene Description, ".concat(c("formats.most-software")),icon:(0,a.jsx)(es,{})},fbx:{label:"FBX",tooltip:"Autodesk FBX, ".concat(c("formats.most-software")),icon:(0,a.jsx)(et,{text:"F"})},zip:{label:"ZIP",tooltip:c("formats.zip"),icon:(0,a.jsx)(R.I4q,{})}};for(let e of["gltf","fbx","usd"])Object.keys(n).includes(e)||delete D[e];let T=Object.keys(D).includes(w)?w:S?"hdr":"blend",A=0;if("zip"!==T){let e=n[S?"hdri":T][Z][T];if(A=e.size,e.include)for(let s of Object.values(e.include))A+=s.size}else for(let e of x.files)if(n[e.map]){let t=n[e.map][Z][e.fmt];A+=t.size,"gltf"===e.map&&(A+=n[e.map][Z][e.fmt].include["".concat(s,".bin")].size)}let B=async()=>{let e={uuid:localStorage.getItem("uuid")||v,asset_id:s,res:Z,format:T};await fetch("/api/dlTrack",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json()).then(s=>{console.log("Tracked download:",e)})},G=async()=>{if(h)return;p(!0);let e="".concat(s,"_").concat(Z),t=[];if("zip"!==T){let s=n[T][Z][T];if(e=(0,k.sp)(s.url),t.push({url:s.url,size:s.size,path:e}),s.include)for(let e of Object.keys(s.include))t.push({url:s.include[e].url,size:s.include[e].size,path:e})}else for(let e of x.files){let a=Y.includes(e.fmt)?"":"textures/",l=n[e.map][Z][e.fmt];if(t.push({url:l.url,size:l.size,path:a+(0,k.sp)(l.url)}),"gltf"===e.map){let e=l.include["".concat(s,".bin")];t.push({url:e.url,size:e.size,path:a+(0,k.sp)(e.url)})}}startDownload(e,t),await new Promise(e=>setTimeout(e,2e3)).then(e=>{p(!1)}),await B()};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:en().downloadBtnWrapper,children:[(0,a.jsx)(E.Z,{value:Z,options:O,onChange:e=>{f(e),localStorage.setItem("assetPref_".concat(t.type,"_resolution"),e)},small:!0,tooltipID:"dropdown-res"}),(0,a.jsx)(E.Z,{value:T,options:D,onChange:e=>{y(e),localStorage.setItem("assetPref_".concat(t.type,"_format"),e),"zip"===e&&u(!0)},small:!0,tooltipSide:"left",tooltipID:"dropdown-fmt"}),(0,a.jsxs)("a",{href:S?n.hdri[Z][T].url:null,target:"_blank",rel:"noopener",className:"".concat(en().downloadBtn," ").concat(h?en().disabled:null),onClick:S?B:G,children:[(0,a.jsx)(j.tEr,{}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{children:c("download")}),(0,a.jsx)("p",{children:(0,L.G)(A).toString()})]}),(0,a.jsx)("div",{className:"".concat(en().busyDownloading," ").concat(h?en().show:null),children:(0,a.jsx)($.Z,{})})]}),(0,a.jsx)("div",{className:en().downloadBtnSml,onClick:()=>{u(!m)},children:m?(0,a.jsx)(j.KYK,{}):(0,a.jsx)(j.xXU,{})})]}),(0,a.jsx)(K,{open:m,assetID:s,tempUUID:v,files:n,res:Z,fmt:T,selectMap:(e,s)=>{g({key:e,add:s})},type:t.type,setPreview:l}),(0,a.jsx)(V.Z,{id:"dropdown",place:"left"})]})},er=t(99477),eo=t(15029),ei=t(78639),ec=t(59888),ed=t(2801),eh=t(61265);let ep=e=>{let[s,t]=(0,o.useState)(),[a,n]=(0,o.useState)();return(0,o.useEffect)(()=>{fetch(e.url).then(e=>e.json()).then(s=>{t({...s,images:s.images.map((t,a)=>({...s.images[a],uri:e.include[t.uri].url})),buffers:s.buffers.map(s=>({byteLength:e.include[s.uri].size,uri:e.include[s.uri].url}))})})},[]),(0,o.useEffect)(()=>{if(!s)return;let e=new eh.E;e.parse(JSON.stringify(s),"https://dl.polyhaven.com/",e=>n(e))},[s]),a},em="ADD_MESH",eu={meshes:{},boundingSphereRadius:0},ex=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eu,s=arguments.length>1?arguments[1]:void 0;return s.type===em?{...e,boundingSphereRadius:s.payload.mesh.geometry.boundingSphere.radius>e.boundingSphereRadius?s.payload.mesh.geometry.boundingSphere.radius:e.boundingSphereRadius,meshes:{...e.meshes,[s.payload.mesh.uuid]:{mesh:s.payload.mesh}}}:e};var eg=t(34712),e_=t.n(eg);let ej=["normalMap","emissiveMap","metalnessMap","roughnessMap","aoMap"],ef=(e,s,t,n)=>{let l=[];return e.children&&e.children.forEach(e=>{l.push(ef(e,s,t,n))}),l.push((0,a.jsxs)(o.Fragment,{children:[(0,a.jsx)("mesh",{geometry:e.geometry,position:e.getWorldPosition(new er.Vector3),scale:e.getWorldScale(new er.Vector3),quaternion:e.getWorldQuaternion(new er.Quaternion),children:""===s?(0,a.jsx)("meshPhysicalMaterial",{...e.material,children:Object.entries(e.material).map(e=>{let[s,t]=e;return t instanceof er.Texture?(0,a.jsx)("texture",{attach:s,...t,colorSpace:ej.includes(s)?"srgb-linear":"srgb",anisotropy:n},s):null})}):(0,a.jsxs)("meshBasicMaterial",{children:[e.material.map&&"DIFFUSE"===s&&(0,a.jsx)("texture",{attach:"map",...e.material.map,anisotropy:n}),e.material.normalMap&&"NORMAL"===s&&(0,a.jsx)("texture",{attach:"map",...e.material.normalMap,anisotropy:n}),e.material.metalnessMap&&"METALNESS"===s&&(0,a.jsx)("texture",{attach:"map",...e.material.metalnessMap,anisotropy:n}),e.material.roughnessMap&&"ROUGHNESS"===s&&(0,a.jsx)("texture",{attach:"map",...e.material.roughnessMap,anisotropy:n})]})}),(0,a.jsx)("mesh",{geometry:e.geometry,position:e.getWorldPosition(new er.Vector3),scale:e.getWorldScale(new er.Vector3),quaternion:e.getWorldQuaternion(new er.Quaternion),children:(0,a.jsx)("meshStandardMaterial",{wireframe:!0,visible:t,color:"black"})})]},e.uuid)),l},ew=e=>Object.values(e).reduce((e,s,t)=>{s.mesh.updateMatrixWorld();let a=new er.Box3,n=a.copy(s.mesh.geometry.boundingBox).applyMatrix4(s.mesh.matrixWorld);return 0===t?(e.min=n.min,e.max=n.max):(e.max.x=Math.max(e.max.x,n.max.x),e.max.y=Math.max(e.max.y,n.max.y),e.max.z=Math.max(e.max.z,n.max.z),e.min.x=Math.min(e.min.x,n.min.x),e.min.y=Math.min(e.min.y,n.min.y),e.min.z=Math.min(e.min.z,n.min.z)),e},{}),eb=e=>e&&e.max?new er.Vector3(e.max.x-(e.max.x-e.min.x)/2,e.max.y-(e.max.y-e.min.y)/2,e.max.z-(e.max.z-e.min.z)/2):new er.Vector3(0,0,0);var ey=e=>{let{show:s,assetID:t,files:n,onLoad:l}=e;if(!s)return null;let r=(0,ed.r)(),[i,c]=(0,o.useState)(""),[d,h]=(0,o.useState)(!1),[p,m]=(0,o.useState)(!0),[u,x]=(0,o.useState)("warehouse"),g={warehouse:"empty_warehouse_01",sunset:"venice_sunset",dawn:"kiara_1_dawn",night:"dikhololo_night",forest:"forest_slope",studio:"studio_small_03",city:"potsdamer_platz",park:"rooitou_park",lobby:"st_fagans_interior"},[_,f]=(0,o.useState)(1),[w,b]=(0,o.useReducer)(ex,eu);if(!n)return(0,a.jsxs)("div",{className:e_().wrapper,children:["No files?",(0,a.jsx)("br",{}),(0,a.jsx)("em",{children:"Try refresh, otherwise please report this to us."})]});if(!n.gltf)return(0,a.jsx)("div",{className:e_().wrapper,children:"No preview available for this model, sorry :("});let y=n.gltf["4k"]?n.gltf["4k"].gltf:n.gltf["2k"].gltf,v=ep(y);(0,o.useEffect)(()=>{v&&v.scene.children.map(k)},[v]);let k=e=>{"Mesh"===e.type&&b({type:em,payload:{mesh:e}}),"Group"===e.type&&e.children.map(k)},N=(0,o.useMemo)(()=>eb(ew(w.meshes)),[w.meshes]),S=(0,o.useMemo)(()=>Math.ceil(2.5*w.boundingSphereRadius),[w.boundingSphereRadius]);return v?(0,a.jsx)(ed.I,{handle:r,children:(0,a.jsxs)("div",{className:e_().wrapper,children:[(0,a.jsx)("div",{style:{position:"absolute",width:"100%",height:"100%"},children:(0,a.jsx)(eo.Xz,{dpr:[1,2],camera:{fov:27,near:.1,far:1e3,position:[-(N.x+S),N.y+S/2,N.z+S]},onCreated:e=>{let{gl:s}=e;s.toneMapping=er.CineonToneMapping,f(Math.max(1,Math.min(16,s.capabilities.getMaxAnisotropy()))),l()},children:(0,a.jsxs)(o.Suspense,{fallback:null,children:[(0,a.jsx)(ei.qA,{preset:u,background:p}),(0,a.jsx)(ec.z,{enablePan:!0,enableZoom:!0,enableRotate:!0,target:N}),v&&w.meshes&&Object.values(w.meshes).map(e=>ef(e.mesh,i,d,_))]})})}),(0,a.jsxs)("div",{className:e_().buttons,children:[(0,a.jsxs)(Z.Z,{icon:(0,a.jsx)(j.zNX,{}),children:[Object.keys(g).map((e,s)=>(0,a.jsx)(Z.Z,{icon:(0,a.jsx)("img",{src:"https://cdn.polyhaven.com/asset_img/primary/".concat(g[e],".png?width=32&aspect_ratio=1:1")}),active:p&&u===e,onClick:()=>{x(e),m(!0)}},s)),(0,a.jsx)(Z.Z,{icon:(0,a.jsx)(j.lig,{}),active:!p,onClick:()=>{m(!1)}})]}),(0,a.jsx)(Z.Z,{icon:(0,a.jsx)(j.$lZ,{}),active:d,onClick:()=>{h(e=>!e)}}),(0,a.jsxs)(Z.Z,{icon:(0,a.jsx)(j.EiA,{}),children:[(0,a.jsx)(Z.Z,{icon:(0,a.jsx)("img",{src:"https://cdn.polyhaven.com/site_images/map_types/DIFFUSE.png?width=32"}),active:"DIFFUSE"===i,onClick:()=>{c("DIFFUSE")}}),(0,a.jsx)(Z.Z,{icon:(0,a.jsx)("img",{src:"https://cdn.polyhaven.com/site_images/map_types/NORMAL.png?width=32"}),active:"NORMAL"===i,onClick:()=>{c("NORMAL")}}),(0,a.jsx)(Z.Z,{icon:(0,a.jsx)("img",{src:"https://cdn.polyhaven.com/site_images/map_types/METALNESS.png?width=32"}),active:"METALNESS"===i,onClick:()=>{c("METALNESS")}}),(0,a.jsx)(Z.Z,{icon:(0,a.jsx)("img",{src:"https://cdn.polyhaven.com/asset_img/thumbs/rough_wood.png?width=32"}),active:""===i,onClick:()=>{c("")}})]}),(0,a.jsx)(Z.Z,{icon:(0,a.jsx)(j.Nms,{}),onClick:()=>{r.active?r.exit():r.enter()}})]})]})}):null},ev=t(28539),ek=t.n(ev);let eN=e=>{let{label:s,condition:t,flex:n,children:l}=e;return t?(0,a.jsxs)("span",{className:"".concat(ek().infoItem," ").concat(n?ek().flex:null),children:[(0,a.jsxs)("strong",{children:[s,": "]}),l]}):null};eN.defaultProps={condition:!0,flex:!1};let eS=e=>{let{value:s,label:t,condition:n,link:l,tip:r}=e;return n?(0,a.jsxs)(a.Fragment,{children:[l?(0,a.jsxs)(b(),{href:l,target:"_blank",className:ek().infoBlock,"data-tip":r,"data-for":"InfoBlock",children:[(0,a.jsx)("strong",{children:s}),(0,a.jsx)("p",{children:t})]}):(0,a.jsxs)("div",{className:ek().infoBlock,"data-tip":r,"data-for":"InfoBlock",children:[(0,a.jsx)("strong",{children:s}),(0,a.jsx)("p",{children:t})]}),(0,a.jsx)(V.Z,{place:"left",id:"InfoBlock"})]}):null};eS.defaultProps={condition:!0,link:null,tip:null};var eC=t(28368),eP=t(25043),eM=t(32378),eO=t(11973),eZ=t.n(eO),eD=e=>{let{slug:s,onClick:t}=e,{data:n,error:l}=(0,v.Z)("/similar/".concat(s),{revalidateOnFocus:!1});return l||!n?(0,a.jsx)($.Z,{}):(0,a.jsx)("div",{className:eZ().wrapper,children:Object.keys(n).map(e=>(0,a.jsx)(eP.Z,{className:eZ().item,children:(0,a.jsx)(eM.Z,{asset:n[e],assetID:e,onClick:t})},e))})},eT=t(2329),eA=t(60155),eI=t(40133),eL=e=>{let{assetID:s,patron:t}=e,[n,l]=(0,o.useState)(!1),[r,i]=(0,o.useState)(0),[c,d]=(0,o.useState)(""),h=0;if(t.sponsor_tokens)for(let e of Object.values(t.sponsor_tokens))!e&&h++;return 0===h?null:(0,a.jsx)(eI.Z,{disabled:0!==r,children:(0,a.jsx)(eI.Z,{disabled:n,tooltip:"Loading...",children:(0,a.jsx)(eI.Z,{disabled:0===h,tooltip:"You have no tokens left. Check back again on the 5th of next month!",children:(0,a.jsxs)("div",{className:ek().addSponsor,onClick:e=>{l(!0),(0,g.h0)(t.uid,s).then(e=>{l(!1),e.error?(console.error(e),i(-1)):i(1),d(e.message)})},children:[0===r?(0,a.jsx)(eA.Tx$,{}):r>0?(0,a.jsx)(j.HhX,{}):(0,a.jsx)(j.FU5,{}),c||(0,a.jsxs)("span",{children:["Sponsor this asset",(0,a.jsx)("br",{}),(0,a.jsxs)("em",{children:[h," ",h>1?"tokens":"token"," left"]})]})]})})})})},ez=e=>{let{id:s}=e,{data:t,error:n}=(0,v.Z)("/sponsor/".concat(s),{revalidateOnFocus:!1});return!t||n?(0,a.jsx)($.Z,{}):(0,a.jsx)("p",{children:t.url?(0,a.jsx)("a",{href:t.url,rel:"nofollow noopener",children:t.logo?(0,a.jsx)("img",{src:"https://cdn.polyhaven.com/corporate_sponsors/".concat(t.logo),alt:t.name,title:t.name,className:ek().corpSponsor}):t.name}):t.name})},eR=e=>{let{assetID:s,sponsors:t,patron:n}=e,{t:l}=(0,r.$G)("asset"),o=[];for(let e of t=t||[{name:l("sponsored-by-none")}])"object"==typeof e?o.push((0,a.jsx)("p",{children:e.name||e})):o.push((0,a.jsx)(ez,{id:e}));return(0,a.jsxs)("div",{className:ek().sponsor,children:[(0,a.jsxs)("h4",{children:[l("sponsored-by")," ",(0,a.jsx)("a",{href:"https://www.patreon.com/polyhaven/overview","data-tip":l("sponsored-by-d"),children:(0,a.jsx)(j.r$n,{})})]}),o.length?o.map((e,s)=>(0,a.jsx)("span",{children:e},s)):null,n.rewards&&n.rewards.includes("Sponsor")&&!t.includes(n.uuid)&&(0,a.jsx)(eL,{assetID:s,patron:n}),(0,a.jsx)(V.Z,{})]})},eE=e=>{let{label:s,list:t,linkPrefix:n,width:l}=e,{t:i}=(0,r.$G)("categories"),[c,d]=(0,o.useState)(!1),h=(0,o.useRef)(null),p=(0,o.useRef)(null),{width:u}=(0,m.Z)(h),{width:x}=(0,m.Z)(p);return(0,o.useEffect)(()=>{x<u&&d(!0)},[u,x]),(0,a.jsx)("div",{children:(0,a.jsxs)(eN,{label:s,flex:!c,children:[(0,a.jsx)("div",{className:"".concat(ek().tagsListWrapper," ").concat(c?ek().wrap:null),ref:h,children:(0,a.jsx)("div",{className:"".concat(ek().tagsList," ").concat(c?ek().wrap:null),ref:p,children:t.map(e=>(0,a.jsx)(b(),{href:"".concat(n).concat(e),children:(0,a.jsx)("div",{className:ek().tag,children:i(e)})},e))})}),c?null:(0,a.jsx)("div",{className:ek().expand,onClick:e=>d(!0),children:"..."})]})})},eB=t(19473),eG=t.n(eB),eF=e=>{let{image:s,resolutions:t,type:n}=e,[l,r]=(0,o.useState)(1),[i,c]=(0,o.useState)(!1),[d,h]=(0,o.useState)(!1),[p,u]=(0,o.useState)(!1),[x,g]=(0,o.useState)([0,0]),[_,f]=(0,o.useState)([0,0]),w=(0,o.useRef)(null),{width:b,height:y}=(0,m.Z)(w),v=Math.min(b,y);(0,o.useEffect)(()=>{f([-(v/2),-(v/2)])},[v]);let k=t.map(e=>parseInt(e)).sort((e,s)=>e-s),N=v/1024*l,S=k.reduce((e,s)=>Math.abs(s-N)<Math.abs(e-N)?s:e),C=k[Math.max(0,k.indexOf(S)-1)],P=v*l,M="".concat(b/2+_[0]*l,"px ").concat(y/2+_[1]*l,"px"),O=e=>{r(Math.min(200,Math.max(.1,e)))},D=e=>{h(!1),u(!1)},T=(e,s)=>e=(e=e.replace(/\/jpg\/1k\//g,"/jpg/".concat(s,"k/"))).replace(/_1k\.jpg/g,"_".concat(s,"k.jpg"));return(0,a.jsxs)("div",{className:eG().wrapper,ref:w,children:[(0,a.jsx)("div",{className:"".concat(eG().image," ").concat(1!==n?eG().noTile:""),style:{backgroundImage:"url(".concat(T(s,C),")"),backgroundSize:P,backgroundPosition:M}}),(0,a.jsx)("div",{className:eG().loading,children:(0,a.jsxs)("div",{children:[(0,a.jsx)(eT.Z,{}),(0,a.jsxs)("p",{children:["Loading ",S,"k resolution..."]})]})}),(0,a.jsx)("div",{className:"".concat(eG().image," ").concat(1!==n?eG().noTile:""),style:{backgroundImage:"url(".concat(T(s,S),")"),backgroundSize:P,backgroundPosition:M},onMouseDown:e=>{0===e.button&&(g([e.pageX-_[0]*l,e.pageY-_[1]*l]),h(!0)),2===e.button&&(g([e.pageX,e.pageY]),u(!0))},onMouseUp:D,onMouseLeave:D,onMouseMove:e=>{if(d&&f([(e.pageX-x[0])/l,(e.pageY-x[1])/l]),p){g([e.pageX,e.pageY]);let s=(e.pageX-x[0])*l;O(l+s/200)}},onContextMenu:e=>{e.preventDefault()}}),i?(0,a.jsx)("div",{className:eG().grid,style:{backgroundImage:"url(/images/tile_preview_grid.png)",backgroundSize:P,backgroundPosition:M}}):null,(0,a.jsxs)("div",{className:eG().buttons,children:[i&&l>1.5?(0,a.jsxs)("p",{children:["You may need to zoom out to",(0,a.jsx)("br",{}),"see the tiling preview grid"]}):null,1===n?(0,a.jsx)(Z.Z,{icon:(0,a.jsx)(j.USG,{}),onClick:e=>c(!i),active:i}):null,(0,a.jsx)(Z.Z,{icon:(0,a.jsx)(j.eqC,{}),onClick:e=>O(l/1.259921)}),(0,a.jsx)(Z.Z,{icon:(0,a.jsx)(j.x06,{}),onClick:e=>O(1.259921*l)}),(0,a.jsx)(Z.Z,{icon:(0,a.jsx)("p",{children:"1:1"}),onClick:e=>O(1/(v/1024))})]})]})},eW=t(44292),eV=e=>{let{assetID:s}=e,{t}=(0,r.$G)("asset"),n=(0,a.jsxs)("div",{className:ek().userRendersTitle,children:[(0,a.jsx)("h1",{children:t("user-renders")}),(0,a.jsx)(b(),{href:"/gallery-submit?asset=".concat(s),prefetch:!1,children:(0,a.jsx)(Z.Z,{icon:(0,a.jsx)(j.x06,{}),label:t("add-yours")})})]}),{data:l,error:o}=(0,v.Z)("/gallery?assetID=".concat(s),{revalidateOnFocus:!1});return o?null:l?(0,a.jsxs)("div",{className:ek().userRenders,children:[n,l.length?(0,a.jsx)(eW.Z,{data:l,assetPage:!0}):(0,a.jsx)("p",{children:(0,a.jsx)(r.cC,{i18nKey:"no-renders",t:t,components:{lnk:(0,a.jsx)("a",{href:"/gallery-submit?asset=".concat(s)})}})})]}):(0,a.jsxs)("div",{className:ek().userRenders,children:[n,(0,a.jsx)(eT.Z,{})]})};class eH extends o.Component{static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,s){}render(){return this.state.hasError?(0,a.jsx)("h1",{children:"Something went wrong."}):this.props.children}constructor(e){super(e),this.state={hasError:!1}}}let eq=d()(()=>Promise.all([t.e(518),t.e(4376),t.e(2741)]).then(t.bind(t,22741)),{loadableGenerated:{webpack:()=>[22741]},ssr:!1});var eU=e=>{let{assetID:s,data:t,files:n,renders:l}=e,{t:c}=(0,r.$G)("common"),{t:d}=(0,r.$G)("time"),{t:w}=(0,r.$G)("asset"),{user:b,isLoading:v}=(0,i.aF)(),[k,N]=(0,o.useState)(null),[S,C]=(0,o.useState)({}),[M,D]=(0,o.useState)(!1),[T,I]=(0,o.useState)(!1),[L,z]=(0,o.useState)("https://cdn.polyhaven.com/asset_img/primary/".concat(s,".png?height=780")),[R,E]=(0,o.useState)("https://cdn.polyhaven.com/asset_img/primary/".concat(s,".png")),[B,G]=(0,o.useState)(!1),[F,W]=(0,o.useState)(""),[V,H]=(0,_.Z)("asset_showDownloadGraph",!1),[q,U]=(0,o.useState)(!0),X=(0,o.useRef)(null),{width:J}=(0,m.Z)(X),Y=Object.keys(t.authors).sort(),K=Y.length>1,$=new Date(Date.now()-2592e6).toISOString().split("T")[0],Q=(Date.now()-1e3*t.date_published)/864e5,ee=Date.now()-1e3*t.date_published>3456e5,[es,et]=(0,p.yV)(1e3*t.date_published,d,!0);es=0===es?d("new"):es,et=et.replace(es,"").trim(),(0,o.useEffect)(()=>{document.getElementById("header-title").innerHTML=t.name;let e=document.getElementById("header-frompath").innerHTML;e||(e='<a href="/'.concat(Object.keys(u)[t.type],'">').concat(c(x[t.type]+"s"),"</a> /")),document.getElementById("header-path").innerHTML=e,document.getElementById("header-frompath").innerHTML="",document.getElementById("page").scrollTop=0,D(!1);let a="https://cdn.polyhaven.com/asset_img/primary/".concat(s,".png");return R!==a&&ea(a),()=>{document.getElementById("header-path").innerHTML="",document.getElementById("header-title").innerHTML=""}},[s]),(0,o.useEffect)(()=>{k?(0,g.qS)(k).then(e=>{C(e)}):b&&N(b.sub.split("|").pop())},[b,k]);let ea=e=>{L.startsWith(e)||I(!0),B&&G(!1),E(e),e.startsWith("https://cdn.polyhaven.com/")&&(e+="?height=780"),z(e),W("")};return(0,a.jsxs)("div",{className:ek().wrapper,children:[(0,a.jsx)("div",{className:"".concat(ek().loading," ").concat(M?null:ek().hidden),children:(0,a.jsx)(eT.Z,{})}),(0,a.jsxs)(eC.Z,{immersiveScroll:!0,assetPage:!0,children:[(0,a.jsxs)("div",{className:ek().mobileHeader,children:[(0,a.jsx)("h1",{children:t.name}),(0,a.jsx)("div",{className:"".concat(ek().sidebarToggle," ").concat(q?"":ek().sidebarToggleClose),children:(0,a.jsx)(Z.Z,{icon:q?(0,a.jsx)(j.tEr,{}):(0,a.jsx)(j.cHm,{}),onClick:()=>{U(!q)}})})]}),(0,a.jsxs)("div",{className:ek().previewWrapper,children:[(0,a.jsxs)("div",{className:"".concat(ek().activePreview).concat(B?" "+ek().activePreviewGLTF:""),children:[(0,a.jsx)("img",{id:"activePreview",onLoad:e=>{I(!1),D(!1),G(!1),W("")},src:L}),t.sketchfab_id?B?(0,a.jsx)("div",{className:ek().sketchfabWrapper,children:(0,a.jsx)("iframe",{className:ek().sketchfabFrame,title:"Cannon",allow:"autoplay; fullscreen; xr-spatial-tracking","xr-spatial-tracking":!0,"execution-while-out-of-viewport":!0,"execution-while-not-rendered":!0,src:"https://sketchfab.com/models/".concat(t.sketchfab_id,"/embed?autostart=1&ui_theme=dark&dnt=1&ui_stop=0"),onLoad:()=>{I(!1)}})}):null:0===t.type?B?(0,a.jsx)(eq,{assetID:s}):null:(0,a.jsx)(eH,{children:(0,a.jsx)(ey,{show:B,assetID:s,files:n,onLoad:e=>{I(!1)}})}),0!==t.type&&F?(0,a.jsx)(eF,{image:F,resolutions:Object.keys(n.blend),type:t.type}):null,(0,a.jsx)("div",{className:"".concat(ek().loading," ").concat(T?null:ek().hidden),children:(0,a.jsx)(eT.Z,{})})]}),(0,a.jsx)("div",{className:ek().carousel,children:(0,a.jsx)(A,{slug:s,data:l,files:n,assetType:t.type,setter:ea,showWebGL:e=>{G(!0),W(""),E("webGL"),0!==t.type&&I(!0)},showTilePreview:e=>{W(e),G(!1),E(e)},active:R})})]}),(0,a.jsxs)("div",{className:ek().similar,children:[(0,a.jsx)("h2",{children:w("similar-assets")}),(0,a.jsx)(eD,{slug:s,onClick:()=>{D(!0),G(!1),W("")}})]}),(0,a.jsx)(eV,{assetID:s})]}),(0,a.jsxs)("div",{className:"".concat(ek().sidebar," ").concat(q?ek().hiddenMobile:""),children:[(0,a.jsxs)("div",{className:ek().info,children:[(0,a.jsx)(el,{assetID:s,data:t,files:n,setPreview:ea,patron:S}),(0,a.jsxs)("div",{className:ek().infoItems,children:[(0,a.jsxs)(eN,{label:w("author",{count:Y.length}),flex:!0,children:[(0,a.jsx)("div",{className:ek().authors,children:Y.map(e=>(0,a.jsx)(P,{id:e,credit:K?t.authors[e]:""},e))}),t.donated?(0,a.jsx)("div",{className:ek().heart,"data-tip":w("author-donated"),children:(0,a.jsx)(y.Z,{})}):null]}),t.info?(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:ek().infoText,lang:"en",dir:"ltr",children:(0,a.jsx)(h.Z,{children:t.info.replace(/\\n/g,"\n")})})}):null,(0,a.jsxs)("div",{className:ek().infoBlocks,children:[(0,a.jsx)(eS,{value:"CC0",label:c("nav.license"),link:"/license",tip:"Use for any purpose, including commercial.<br/>Click for more info."}),(0,a.jsx)(eS,{value:es,label:et,tip:new Date(1e3*t.date_published).toLocaleString("en-ZA")}),t.dimensions?(0,a.jsx)(eS,{value:"".concat(parseFloat((t.dimensions[0]/1e3).toFixed(1)),"m"),label:w("wide"),condition:!!t.dimensions,tip:"".concat(Math.round(t.dimensions[0])," millimeters wide.")}):null,(0,a.jsx)(eS,{value:t.evs_cap,label:"EVs",condition:!!t.evs_cap,tip:"".concat(t.evs_cap," EVs of dynamic range captured. Unclipped.")}),(0,a.jsx)(eS,{value:"".concat(t.whitebalance,"K"),label:"WB",condition:!!t.whitebalance,tip:"Whitebalance"}),(0,a.jsx)(eS,{value:(0,a.jsx)(j.$0r,{}),label:"GPS",condition:!!t.coords,link:t.coords?"https://www.openstreetmap.org/?mlat=".concat(t.coords[0],"&mlon=").concat(t.coords[1],"&zoom=14#map=13/").concat(t.coords[0],"/").concat(t.coords[1]):null})]}),(0,a.jsxs)(eN,{label:w("downloads"),condition:!!t.download_count,flex:!0,children:[(0,a.jsx)("span",{"data-tip":"".concat(Math.round(t.download_count/Q)," ").concat(w("downloads-pd")),children:t.download_count}),ee?V?(0,a.jsx)(f.Z,{slug:s,dateFrom:$}):(0,a.jsx)("div",{className:ek().tag,children:(0,a.jsx)(j.wYG,{onClick:e=>H(!0)})}):null]}),(0,a.jsx)("div",{className:ek().spacer}),(0,a.jsx)(eR,{assetID:s,sponsors:t.sponsors,patron:S}),(0,a.jsx)("div",{className:ek().spacer}),(0,a.jsxs)("div",{ref:X,children:[(0,a.jsx)(eE,{label:w("categories"),list:t.categories,linkPrefix:"/".concat(Object.keys(u)[t.type],"/"),width:J}),(0,a.jsx)(eE,{label:w("tags"),list:t.tags,linkPrefix:"/".concat(Object.keys(u)[t.type],"?s="),width:J})]})]})]}),(0,a.jsx)("div",{className:ek().sidebarAd,children:(0,a.jsx)(O.Z,{id:"9249051205",x:336,y:280,showRemoveBtn:!0})})]})]})},eX=t(66159),eJ=!0,eY=e=>{let{assetID:s,data:t,files:r,renders:o}=e,i="/a/".concat(s);return t?(0,a.jsxs)("div",{className:"content",children:[(0,a.jsx)(n.Z,{title:"".concat(t.name," ").concat((0,l.i)(t.type,!1)),description:"Download this free ".concat((0,l.i)(t.type,!1)," from Poly Haven"),url:i,assetType:t.type,author:Object.keys(t.authors).join(", "),keywords:"".concat(t.categories.join(","),",").concat(t.tags.join(",")),image:"https://cdn.polyhaven.com/asset_img/thumbs/".concat(s,".png?width=630")}),(0,a.jsx)("div",{children:(0,a.jsx)(eU,{assetID:s,data:t,files:r,renders:o})})]}):(0,a.jsxs)(eX.Z,{children:[(0,a.jsx)(n.Z,{title:"Error: 404",url:i}),(0,a.jsx)("h1",{children:"404"}),(0,a.jsxs)("p",{children:['No asset with id: "',s,'"']})]})}},28539:function(e){e.exports={wrapper:"AssetPage_wrapper__eSJUx",mobileHeader:"AssetPage_mobileHeader__q45gJ",previewWrapper:"AssetPage_previewWrapper__HuojA",carousel:"AssetPage_carousel__GPNJu",activePreview:"AssetPage_activePreview__0KVv4",activePreviewGLTF:"AssetPage_activePreviewGLTF__fnyTM",sidebar:"AssetPage_sidebar__tk_MB",info:"AssetPage_info__Yg8q2",infoItems:"AssetPage_infoItems__KiOKI",authors:"AssetPage_authors__ihGk1",infoText:"AssetPage_infoText__NWqeN",infoItem:"AssetPage_infoItem__rffWr",flex:"AssetPage_flex__7uX8_",infoBlocks:"AssetPage_infoBlocks__gKwjK",infoBlock:"AssetPage_infoBlock__zaT4J",tagsListWrapper:"AssetPage_tagsListWrapper__OEkES",tagsList:"AssetPage_tagsList__9W3Fr",wrap:"AssetPage_wrap__IZadO",tag:"AssetPage_tag__GHBX_",expand:"AssetPage_expand__ThkaF",sidebarToggle:"AssetPage_sidebarToggle__R0qDa",sidebarToggleClose:"AssetPage_sidebarToggleClose__khklj",hiddenMobile:"AssetPage_hiddenMobile__2VhFo",sidebarAd:"AssetPage_sidebarAd__z7rDC",sponsor:"AssetPage_sponsor__yi9Rn",corpSponsor:"AssetPage_corpSponsor__pujJJ",addSponsor:"AssetPage_addSponsor__vokJ_",similar:"AssetPage_similar__OYcuy",userRenders:"AssetPage_userRenders__1_zRO",userRendersTitle:"AssetPage_userRendersTitle__2CaAO",sketchfabWrapper:"AssetPage_sketchfabWrapper___kD9z",sketchfabFrame:"AssetPage_sketchfabFrame__Hf9Mt",heart:"AssetPage_heart__irooe",spacer:"AssetPage_spacer__LxBgb",loading:"AssetPage_loading__g_4FE",hidden:"AssetPage_hidden__M158T"}},35025:function(e){e.exports={author:"AuthorCredit_author__QrN70",avatar:"AuthorCredit_avatar__PKdqS",regularDonor:"AuthorCredit_regularDonor__in0Ql",pulse:"AuthorCredit_pulse__d6zJo",name:"AuthorCredit_name__riMgM",credit:"AuthorCredit_credit__zXcki",links:"AuthorCredit_links__leRI1"}},15980:function(e){e.exports={imageRow:"Carousel_imageRow__5gqSJ",image:"Carousel_image__JG7H0",credit:"Carousel_credit__mQF7A",texMaps:"Carousel_texMaps__P2oyo",activeImage:"Carousel_activeImage__bjqMZ",iconBtn:"Carousel_iconBtn__uq8Gg",sources:"Carousel_sources__Js_tZ"}},4452:function(e){e.exports={downloadBtnWrapper:"Download_downloadBtnWrapper__uIC9x",downloadBtn:"Download_downloadBtn__D5rjV",downloadBtnSml:"Download_downloadBtnSml__z30UH",error:"Download_error__i23T_",resIcon:"Download_resIcon__HhHff",resBtnCtrl:"Download_resBtnCtrl__UYdY5",busyDownloading:"Download_busyDownloading__vXFLA",show:"Download_show__qwPfU",disabled:"Download_disabled__hMgXf"}},30271:function(e){e.exports={optionsWrapper:"DownloadOptions_optionsWrapper__gJ_qM",optionsHidden:"DownloadOptions_optionsHidden__6c_8j",optionsHeader:"DownloadOptions_optionsHeader__X3iAQ",optionRow:"DownloadOptions_optionRow__la_87",format:"DownloadOptions_format__3BjhN",checked:"DownloadOptions_checked__2d9rk",viewBtn:"DownloadOptions_viewBtn__F31VY",wideOptionRow:"DownloadOptions_wideOptionRow__EIglc",masonry:"DownloadOptions_masonry__ulgmg",masonryColumn:"DownloadOptions_masonryColumn__7YZYt",thumbnail:"DownloadOptions_thumbnail__1Cfs6",buttonWrapper:"DownloadOptions_buttonWrapper__9beQv",button:"DownloadOptions_button__wwno7",downloadMenu:"DownloadOptions_downloadMenu__Ewv39",download:"DownloadOptions_download__lFB23"}},11973:function(e){e.exports={wrapper:"Similar_wrapper__2VCOJ",item:"Similar_item__05t_O"}},34712:function(e){e.exports={wrapper:"GLTFViewer_wrapper__Su0e7",buttons:"GLTFViewer_buttons__XN1qj"}},19473:function(e){e.exports={wrapper:"TilePreview_wrapper__8sBWi",image:"TilePreview_image__gIxmN",grid:"TilePreview_grid__c33e1",noTile:"TilePreview_noTile__uSK8i",loading:"TilePreview_loading__eHZI2",buttons:"TilePreview_buttons__aAw_D"}},73242:function(e){e.exports={wrapper:"Gallery_wrapper__jiLQS",render:"Gallery_render__hnL_k",masonry:"Gallery_masonry__SQVY_",masonryColumn:"Gallery_masonryColumn__v6nAS",thumbnail:"Gallery_thumbnail__yka2K",add:"Gallery_add__sm_sx",lightboxWrapper:"Gallery_lightboxWrapper__sooFT",lightbox:"Gallery_lightbox__s6MuL",imageWrapper:"Gallery_imageWrapper__Hbk9C",spinner:"Gallery_spinner__qXI6p"}},66906:function(e){e.exports={wrapper:"Loader_wrapper__pilXX",loader:"Loader_loader__aJvC_",load7:"Loader_load7__1ZrUp",spawn:"Loader_spawn__Fp5Cj",spinner:"Loader_spinner__nmoY9"}}},function(e){e.O(0,[3415,8907,260,3737,3777,9734,4762,9782,8966,2556,2010,9772,9774,2888,179],function(){return e(e.s=85315)}),_N_E=e.O()}]);