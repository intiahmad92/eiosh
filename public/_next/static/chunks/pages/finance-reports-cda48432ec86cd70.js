(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5135],{32359:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/finance-reports",function(){return t(1582)}])},67571:function(e,n,t){"use strict";var r=t(85893),s=t(67294),a=t(5434),o=t(84436),i=t(55123),c=t.n(i);let l=e=>{let{value:n,options:t,label:i,onChange:l,small:d,tooltipSide:u,tooltipID:p}=e,[f,h]=(0,s.useState)(!1),b=(0,s.useRef)(null),m=e=>{f&&b.current&&!b.current.contains(e.target)&&h(!1)},x=e=>{h(!1),l(e.target.dataset.value)};(0,s.useEffect)(()=>(document.addEventListener("click",m,!0),()=>{document.removeEventListener("click",m,!0)}));let j=(0,r.jsx)(r.Fragment,{children:Object.keys(t)[0]});return Object.keys(t).includes(n)&&(j=d?(0,r.jsx)(r.Fragment,{children:t[n].icon||t[n].label}):(0,r.jsxs)(r.Fragment,{children:[t[n].icon?t[n].icon:null,t[n].label]})),(0,r.jsxs)("div",{className:d?c().wrapperSmall:c().wrapper,ref:b,children:[(0,r.jsxs)("div",{className:d?c().buttonSmall:c().button,onClick:()=>{h(!f)},children:[i?"".concat(i,":"):null,(0,r.jsx)("div",{className:c().buttonValue,children:j}),(0,r.jsx)("div",{className:c().arrow,children:(0,r.jsx)(a.Yc6,{})})]}),(0,r.jsx)("div",{className:"".concat(c().menu," ").concat(f?c().show:null),children:Object.keys(t).map((e,s)=>(0,r.jsxs)("div",{"data-value":e,"data-tip":t[e].tooltip||null,"data-for":p,className:"".concat(c().option," ").concat(e===n?c().active:null),onClick:x,children:[t[e].icon?t[e].icon:null,t[e].label]},s))}),(0,r.jsx)(o.Z,{id:p,place:u})]})};l.defaultProps={label:null,small:!1,tooltipSide:"right",tooltipID:"dropdown"},n.Z=l},41644:function(e,n,t){"use strict";var r=t(85893),s=t(5434),a=t(47307),o=t.n(a);let i=e=>{let{on:n,onClick:t,labelOn:s,labelOff:a}=e;return(0,r.jsxs)("div",{onClick:t,className:o().wrapper,children:[(0,r.jsx)("div",{className:"".concat(o().toggle," ").concat(n?o().on:"")}),(0,r.jsx)("div",{className:"".concat(o().label," ").concat(n?"":o().sel),children:a}),(0,r.jsx)("div",{className:"".concat(o().label," ").concat(n?o().sel:""),children:s})]})};i.defaultProps={labelOn:(0,r.jsx)(s.HhX,{}),labelOff:(0,r.jsx)(s.FU5,{})},n.Z=i},84436:function(e,n,t){"use strict";var r=t(85893),s=t(24762),a=t(92360),o=t.n(a);let i=e=>{let{id:n,place:t}=e;return(0,r.jsx)(s.Z,{id:n,place:t,delayShow:250,multiline:!0,border:!0,borderColor:"rgba(190, 111, 255, 0.5)",backgroundColor:"rgb(60, 60, 60)",className:o().tooltip})};i.defaultProps={id:null,place:null},n.Z=i},1582:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return R},default:function(){return T}});var r=t(85893),s=t(48155),a=t(28368),o=t(67294),i=t(41664),c=t.n(i),l=t(30527),d=t(9253),u=t(46888),p=t(14195),f=t(3023),h=t(75358),b=t(47963),m=t(14888),x=t(86108),j=t(24722),_=t(38099),v=t(71993),g=t(86893),y=t(5434),w=t(67571),S=t(2329),C=t(41644),F=t(84885),k=t.n(F),N=e=>{let{data:n,currency:t,startingBalance:s,filter:a,setFilter:i,mode:c,setMode:l}=e,[F,N]=(0,o.useState)(!0);if(!n)return(0,r.jsx)(S.Z,{});let O={},B={},D=[];if(["income","expense"].includes(c))for(let[e,r]of Object.entries(n)){let n={};for(let e of Object.keys(r[c]))(!a.length||a.includes(e))&&(r.rates.ZAR=1,n[e]=r[c][e]/r.rates[t]);for(let t of(D.push({name:e,...n}),Object.keys(n)))O[t]=O[t]||0,O[t]=O[t]+n[t],B[t]=(0,j.UB)(t)}else if("balance"===c){let e=s/Object.values(n)[0].rates[t];for(let[r,s]of(D.push({name:"2020-10",Balance:e}),Object.entries(n))){let n={};for(let n of Object.keys(s.income)){s.rates.ZAR=1;let r=s.income[n]/s.rates[t];e+=r}for(let n of Object.keys(s.expense)){s.rates.ZAR=1;let r=s.expense[n]/s.rates[t];e-=r}for(let t of(n.Balance=e,D.push({name:r,...n}),Object.keys(n)))O[t]=O[t]||0,O[t]=O[t]+n[t],B[t]=(0,j.UB)(t)}}for(let e of(O=(0,_.ej)(O),D))for(let n of Object.keys(O))void 0===e[n]&&(e[n]=0);let E={income:{label:"Income",icon:(0,r.jsx)(g.hr3,{})},expense:{label:"Expenses",icon:(0,r.jsx)(g.TKU,{})},balance:{label:"Balance",icon:(0,r.jsx)(g.Rgz,{})}};return(0,r.jsxs)("div",{className:k().graphSection,children:[(0,r.jsxs)("div",{className:k().graphHeader,children:[(0,r.jsx)(w.Z,{value:c,options:E,onChange:l}),(0,r.jsxs)("h2",{children:[(0,v.Qs)(E[c].label)," over time:"]}),"balance"!==c?(0,r.jsx)(C.Z,{on:F,onClick:e=>{N(!F)},labelOff:(0,r.jsx)(y.wYG,{}),labelOn:(0,r.jsx)(y.Iv_,{})}):null]}),(0,r.jsx)("div",{className:k().mainGraph,children:(0,r.jsx)(d.h,{children:(0,r.jsxs)(u.T,{data:D,margin:{top:10,right:30,left:0,bottom:0},children:[(0,r.jsx)(p.q,{strokeDasharray:"3 3",stroke:"rgba(255,255,255, 0.2)"}),(0,r.jsx)(f.K,{dataKey:"name"}),(0,r.jsx)(h.B,{}),(0,r.jsx)(b.B,{dataKey:"name",height:30,stroke:"#666666",fill:"#2d2d2d"}),(0,r.jsx)(m.u,{content:(0,r.jsx)(e=>{let{active:n,payload:s,label:a}=e;return n&&s&&s.length?(0,r.jsxs)("div",{className:k().graphTooltip,children:[(0,r.jsx)("p",{className:k().tooltipHeader,children:a}),s.filter(e=>e.value).map((e,n)=>(0,r.jsx)("p",{style:{color:e.color},children:"".concat(e.name,": ").concat((0,j.zC)(e.value,t,{}))},n))]}):null},{}),itemStyle:{padding:0,fontSize:"0.8em"}}),Object.keys(O).map((e,n)=>(0,r.jsx)(x.u,{type:"balance"!==c&&F?"linear":"monotone",dataKey:e,stackId:F?"1":n,stroke:B[e],fill:B[e],animationDuration:500,fillOpacity:"balance"===c||F?.6:0,strokeWidth:"balance"===c||F?0:3},n))]})})})]})},O=t(84436);let B=e=>{let{label:n,data:t,total:s,max:a,currency:i,rates:c,filter:l,setFilter:d,mode:u,setMode:p}=e,[f,h]=(0,o.useState)(!1);if(0===s)return null;let b={Income:"income",Expenses:"expense"}[n];return(0,r.jsxs)("div",{className:k().barWrapper,children:[(0,r.jsxs)("p",{children:[n,": ",(0,j.zC)(s,i,c)]}),(0,r.jsx)("div",{className:k().barContainer,children:(0,r.jsxs)("div",{className:f?k().barList:k().bar,children:[Object.keys(t).map((e,n)=>{let s=t[e]/a*100,o=s>10?Math.round(s):s.toFixed(1),h=j.bd[e]&&j.bd[e].description;return(0,r.jsxs)("div",{className:k().sumCat,title:"".concat(e,": ").concat((0,j.zC)(t[e],i,c)," (").concat(o,"%)").concat(h?" - ".concat(h):""),onClick:n=>{b!==u&&p(b),n.shiftKey?l.includes(e)?d(l.filter(n=>n!==e)):d([...l,e]):JSON.stringify(l)===JSON.stringify([e])?d([]):d([e])},style:{width:"".concat(s,"%"),background:!l.length||l.includes(e)?(0,j.UB)(e):"rgba(0,0,0,0.1)"},children:[f?(0,r.jsxs)("p",{children:[e,(0,r.jsx)("br",{}),(0,j.zC)(t[e],i,c)," (",o,"%)"]}):(0,r.jsx)("p",{children:e}),(0,r.jsx)("div",{className:k().barHover})]},n)}),(0,r.jsx)("div",{className:k().space})]})}),(0,r.jsx)(y.Bds,{className:k().barListExpand,onClick:e=>h(!f)})]})};var D=e=>{let{data:n,currency:t,startingBalance:s,filter:a,setFilter:i,mode:c,setMode:l}=e,[d,u]=(0,o.useState)(null);if(!n)return(0,r.jsx)(S.Z,{});let p=JSON.parse(JSON.stringify(n)),f=s;for(let[e,n]of Object.entries(p)){let e=Object.values(n.expense);for(let n of e)f-=n;let t=Object.values(n.income);for(let e of t)f+=e}let h=[],b=["Founder Salaries","Staff Salaries","Staff Overhead (Taxes)","Contractors","Taxes","Web Hosting","Software Licenses","Accounting Fees","Internet","Insurance","Bank Charges","Subscription Fees","Rent & Utilities"];for(let e of Object.keys(p).slice(-12)){let n=p[e],t=0;for(let e of Object.keys(n.expense))b.includes(e)&&(t+=n.expense[e]);h.push(t)}let m=h.reduce(function(e,n,t){return e+(n-e)/(t+1)},0),x=3*m,v=f-x,g=Object.keys(p).slice(-1).pop(),w={};for(let e of(w.rates=Object.values(p).slice(-1).pop().rates,w.expense={},w.income={},Object.keys(p).slice(-12)))for(let n of["income","expense"])for(let[r,s]of Object.entries(p[e][n])){w[n][r]=w[n][r]||0;let a=s/(p[e].rates[t]/p[g].rates[t]);w[n][r]+=a}p["This Year"]=w;let C=Object.keys(p),F=d||C.slice(-1).pop(),N=Object.values(p[F].income).reduce((e,n)=>e+n,0),D=Object.values(p[F].expense).reduce((e,n)=>e+n,0),E=Math.max(N,D),A=p[F].rates,R=p[Object.keys(p).pop()].rates;return(0,r.jsxs)("div",{className:k().barSection,children:[(0,r.jsxs)("div",{className:k().bumperWrapper,children:[(0,r.jsx)("div",{className:"".concat(k().bumper," ").concat(0===C.indexOf(F)?k().disabled:null),onClick:()=>{u(C[Math.max(0,C.indexOf(F)-1)])},children:(0,r.jsx)(y.G1X,{})}),(0,r.jsx)("h2",{children:F}),(0,r.jsx)("div",{className:"".concat(k().bumper," ").concat(C.indexOf(F)===C.length-1?k().disabled:null),onClick:()=>{u(C[C.indexOf(F)+1])},children:(0,r.jsx)(y.FNi,{})})]}),(0,r.jsx)(B,{label:"Income",data:(0,_.ej)(p[F].income),total:N,max:E,currency:t,rates:A,filter:a,setFilter:i,mode:c,setMode:l}),(0,r.jsx)(B,{label:"Expenses",data:(0,_.ej)(p[F].expense),total:D,max:E,currency:t,rates:A,filter:a,setFilter:i,mode:c,setMode:l}),(0,r.jsxs)("ul",{children:["ZAR"!==t?(0,r.jsxs)("li",{children:["Exchange Rate in ","This Year"===F?g:F,":"," ",(0,j.zC)(1*A[t],t,A)," = ",(0,j.zC)(1*A[t],"ZAR",A)]}):null,(0,r.jsxs)("li",{children:["Current Balance: ",(0,j.zC)(f,t,R),(0,r.jsx)(y.r$n,{"data-tip":"Actual balance of our combined accounts, ignoring interest earned."})]}),(0,r.jsxs)("li",{children:["Target Emergency Savings: ",(0,j.zC)(x,t,R),(0,r.jsx)(y.r$n,{"data-tip":"Enough to cover our operating costs for ".concat(3," months. This is less than typically recommended, but we think this acceptable considering how stable the Patreon income is.")})]}),v>=0?(0,r.jsxs)("li",{children:[(0,r.jsxs)("strong",{children:["Usable Funds: ",(0,j.zC)(v,t,R)]}),(0,r.jsx)(y.r$n,{"data-tip":"Balance minus emergency savings."})]}):(0,r.jsxs)("li",{children:[(0,r.jsxs)("strong",{children:["Deficit: ",(0,j.zC)(v,t,R)]}),(0,r.jsx)(y.r$n,{"data-tip":"We need to save an additional ".concat((0,j.zC)(v,t,R)," to satisfy our emergency fund, before we can have any money to spend.")})]})]}),(0,r.jsx)(O.Z,{})]})},E=t(17867),A=()=>{let[e,n]=(0,o.useState)("USD"),[t,s]=(0,o.useState)([]),[a,i]=(0,o.useState)("income"),d=null,{data:u,error:p}=(0,l.Z)("/finances",{revalidateOnFocus:!1});return!p&&u&&(d=u),(0,r.jsxs)("div",{className:k().page,children:[(0,r.jsxs)("div",{className:k().textBlock,children:[(0,r.jsxs)("div",{className:k().header,children:[(0,r.jsx)("h1",{children:"Finance Reports"}),(0,r.jsx)(w.Z,{value:e,options:{ZAR:{label:"South African Rand",icon:(0,r.jsx)(E.Z,{code:"ZA"})},USD:{label:"US Dollar (approx)",icon:(0,r.jsx)(E.Z,{code:"US"})},EUR:{label:"Euro (approx)",icon:(0,r.jsx)(E.Z,{code:"EU"})}},onChange:n,label:"Currency"})]}),(0,r.jsx)("p",{children:"Transparency is key to everything we do here at Poly Haven. That's why we have this Finance Reports page: to show you exactly how we operate, how much we earn from donations, ads, sponsorships, and any other source - and where we spend it."}),(0,r.jsxs)("p",{children:["Absolutely ",(0,r.jsx)("strong",{children:"all"})," of our finances are shown here, generated directly from our bank feeds."]}),(0,r.jsx)("p",{children:"Any excess earnings that we haven't spent yet are saved for future costs, such as travel, hardware, and short-term contracts to create specific assets. As a rule, we also aim to keep at least 2 months worth of salaries and operating costs as savings in case of a rainy day."}),(0,r.jsxs)("p",{children:["If you have any questions or concerns, ",(0,r.jsx)(c(),{href:"/about-contact",children:"we'd be happy to chat"}),"."]})]}),(0,r.jsxs)("div",{className:k().row,children:[(0,r.jsx)("div",{className:k().half,children:(0,r.jsx)(N,{data:d,currency:e,startingBalance:166501.66,filter:t,setFilter:s,mode:a,setMode:i})}),(0,r.jsx)("div",{className:k().divider}),(0,r.jsx)("div",{className:k().half,children:(0,r.jsx)(D,{data:d,currency:e,startingBalance:166501.66,filter:t,setFilter:s,mode:a,setMode:i})})]})]})},R=!0;function T(){return(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(s.Z,{title:"Finance Reports",description:"Detailed historical records of our earnings, spending, and savings.",url:"/finance-reports"}),(0,r.jsx)("div",{dir:"ltr",style:{textAlign:"left"},children:(0,r.jsx)(A,{})})]})}},38099:function(e,n,t){"use strict";function r(e){return e[Math.floor(Math.random()*e.length)]}function s(e){for(let n=e.length-1;n>0;n--){let t=Math.floor(Math.random()*(n+1));[e[n],e[t]]=[e[t],e[n]]}return e}function a(e){let n=Object.keys(e).sort(function(n,t){return e[t]-e[n]}),t={};for(let r of n)t[r]=e[r];return t}function o(e){let n={};for(let t of e){let e=parseInt(t);t.endsWith("k")&&(e*=1024),n[t]=e}return Object.keys(n).sort(function(e,t){return n[e]-n[t]})}function i(e){return e.sort((e,n)=>e.localeCompare(n,void 0,{sensitivity:"base"}))}function c(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.sort((e,r)=>{let s=n[e],a=n[r];for(let o of t)!s&&e.startsWith(o)&&(s=n[o]),!a&&r.startsWith(o)&&(a=n[o]);s=s||n["ANYTHING ELSE"];let o=0;return s!==(a=a||n["ANYTHING ELSE"])&&(o=s<a?-1:1),o})}function l(e,n){let t=[];for(let r=0;r<e.length;r+=n){let s=e.slice(r,r+n);t.push(s)}return t}t.d(n,{Mn:function(){return r},Rw:function(){return o},Sy:function(){return s},ej:function(){return a},nD:function(){return c},nl:function(){return i},qd:function(){return l}})},24722:function(e,n,t){"use strict";t.d(n,{UB:function(){return a},bd:function(){return s},zC:function(){return o}});var r=t(71993);let s={Balance:{description:"Our current balance accross all accounts.",color:"#be6fff"},Patreon:{description:"Donations by individuals on patreon.com.",color:"#f44336"},"Ad Revenue":{description:"Revenue from advertisements on the website.",color:"#8BC34A"},"Corporate Sponsors":{description:"Sponsorships from companies (check logos at the bottom of the site).",color:"#03A9F4"},"Donation from Founder":{description:"Money contributed to Poly Haven by either Greg or Rob.",color:"#FFEB3B"},"Once-off Donations":{description:"Single donations from individuals.",color:"#673AB7"},"Epic Grant":{description:"Funding given by Epic Games to create assets.",color:"#bbbbbb"},"Store Sales":{description:"Sales of asset bundles on various online marketplaces.",color:"#795548"},"Add-on Sales":{description:"Sales of our Blender add-on on the Blender Market.",color:"#ea8a0f"},"License Sales":{description:"One-time sales of bespoke license agreements to companies who require something more custom than CC0.",color:"#673AB7"},Crowdfunding:{description:"Funding from crowdfunding campaigns.",color:"#eb1478"},Refunds:{description:"Refunds of purchases.",color:"#607D8B"},Commissions:{description:"Private work for by individuals or companies.",color:"#607D8B"},"Tax Refund":{description:"Refund of excess tax paid.",color:"#607D8B"},"Founder Salaries":{description:"Salaries paid to Greg and Rob.",color:"#9C27B0"},"Staff Salaries":{description:"Salaries paid to core staff members.",color:"#AB47BC"},"Staff Overhead (Taxes)":{description:"Income tax and other obligations paid on behalf of staff.",color:"#CE93D8"},Training:{description:"Courses, training and personal development of staff.",color:"#CE93D8"},Contractors:{description:"Purchases of assets from independant contractors or vendors.",color:"#BA68C8"},Taxes:{description:"Various obligatory taxes paid.",color:"#009688"},"Savings (Transfer)":{description:"Transfer of funds to/from savings accounts.",color:"#FFEB3B"},"Web Hosting":{description:"Various services required to keep the website running.",color:"#03A9F4"},"Software Licenses":{description:"Various software and tools required to produce assets and facilitate colllaboration.",color:"#8BC34A"},"Hardware Purchases":{description:"Purchases of computers, camera equipment, and various other hardware.",color:"#3F51B5"},Travel:{description:"Includes flights, accommodation, and other travel expenses - as well as general staff transport.",color:"#FF9800"},"Accounting Fees":{description:"Various fees paid to accountants and other financial advisors.",color:"#CDDC39"},Internet:{description:"Internet access and related services at our primary office.",color:"#4FC3F7"},Insurance:{description:"Insurance policies for company assets and staff.",color:"#9E9E9E"},"Bank Charges":{description:"Various bank fees.",color:"#BDBDBD"},"Subscription Fees":{description:"Various recurring subscription fees for services we rely on.",color:"#f44336"},"Service Fees":{description:"Various fees paid to service providers.",color:"#78909C"},"Catering & Events":{description:"Food and other costs associated with events and gatherings.",color:"#8BC34A"},BlenderKit:{description:"Income from Blenderkit's revenue share program.",color:"#6434ff"}};function a(e){if("Ad Revenue"===e&&console.log(e),s[e])return s[e].color;let n=["#ef5350","#ec407a","#ab47bc","#7e57c2","#5c6bc0","#42a5f5","#29b6f6","#26c6da","#26a69a","#66bb6a","#9ccc65","#d4e157","#ffee58","#ffca28","#ffa726","#ff7043","#8d6e63","#bdbdbd","#78909c"];return"Ad Revenue"===e&&console.log(n[Math.abs((0,r.Cv)(e)%n.length)]),n[Math.abs((0,r.Cv)(e)%n.length)]}function o(e,n,t){let r={ZAR:1,USD:1,EUR:1};for(let e of Object.keys(r))t[e]=t[e]||r[e];e/=t[n];let s=new Intl.NumberFormat("en-US",{style:"currency",currency:"ZAR"!==n?n:"USD"});return"ZAR"===n?s.format(Math.abs(e)).replace("$","R"):s.format(Math.abs(e))}},71993:function(e,n,t){"use strict";function r(e){return e.toLowerCase().split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")}function s(e){return e.split("/").pop()}function a(e){let n=0;for(let t=0,r=e.length;t<r;t++)n=(n<<5)-n+e.charCodeAt(t)|0;return n}t.d(n,{Cv:function(){return a},Qs:function(){return r},sp:function(){return s}})},84885:function(e){e.exports={page:"Finances_page__Hp9Xe",header:"Finances_header__o9U5d",textBlock:"Finances_textBlock__H6FuN",row:"Finances_row__XaInq",half:"Finances_half__7X_Sj",divider:"Finances_divider__1u3SL",graphHeader:"Finances_graphHeader__oZ7oI",mainGraph:"Finances_mainGraph__e8lL9",graphTooltip:"Finances_graphTooltip__ybwhf",tooltipHeader:"Finances_tooltipHeader__sz3LD",barSection:"Finances_barSection__eeJjX",bumperWrapper:"Finances_bumperWrapper__5lbnk",bumper:"Finances_bumper__1KGhh",barWrapper:"Finances_barWrapper__dXEYD",barContainer:"Finances_barContainer__TVUKG",bar:"Finances_bar__U7jPY",barList:"Finances_barList__W1MhP",sumCat:"Finances_sumCat__VtHuA",barHover:"Finances_barHover__t_7AI",space:"Finances_space__a8RCV",barListExpand:"Finances_barListExpand__LeTnv",disabled:"Finances_disabled__6njbK"}},55123:function(e){e.exports={wrapper:"Dropdown_wrapper__Xa_YT",button:"Dropdown_button__yI6bB",arrow:"Dropdown_arrow__EbaGQ",wrapperSmall:"Dropdown_wrapperSmall__lMNH2",buttonSmall:"Dropdown_buttonSmall__QJHaL",buttonValue:"Dropdown_buttonValue__UWP5B",menu:"Dropdown_menu__e5EEZ",option:"Dropdown_option__cziu8",active:"Dropdown_active__u5Aa5",show:"Dropdown_show__hH3TG"}},47307:function(e){e.exports={wrapper:"Switch_wrapper__QFtkD",label:"Switch_label__TCYCF",sel:"Switch_sel___PoN0",toggle:"Switch_toggle___69Dy",on:"Switch_on__8zGFq"}},92360:function(e){e.exports={tooltip:"Tooltip_tooltip__Dzryr"}}},function(e){e.O(0,[3415,9734,4762,9782,171,2010,9774,2888,179],function(){return e(e.s=32359)}),_N_E=e.O()}]);